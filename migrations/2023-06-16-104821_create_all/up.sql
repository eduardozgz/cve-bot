

CREATE TABLE guild_config (
  id VARCHAR(20) PRIMARY KEY,
  opencve_frontend_url VARCHAR
);

CREATE TABLE channel_config (
  id VARCHAR(20) PRIMARY KEY,
  guild_id VARCHAR(20) REFERENCES guild_config(id) NOT NULL,
  opencve_frontend_url VARCHAR
      
);

CREATE TYPE subscription_kind AS ENUM ('vendor', 'product');

CREATE TABLE channel_subscription (
  channel_id VARCHAR(20) REFERENCES channel_config(id) NOT NULL,
  kind subscription_kind NOT NULL,
  name VARCHAR NOT NULL,
  PRIMARY KEY ("kind", "name")
);


